{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/hamza/Desktop/portfolio/components/gim.tsx\";\nimport { useState } from 'react';\nimport { motion, useTransform, useViewportScroll } from 'framer-motion';\nimport { theme } from './theme';\nimport { gimsProps } from './gimProps';\n\nconst getGimPropsById = gimId => {\n  return gimsProps.filter(gimProps => gimProps.id == gimId).pop() || gimsProps[0];\n};\n\nexport default function Gim({\n  data,\n  gimId,\n  direction,\n  steps,\n  nextPosition,\n  setOnDisplay,\n  onDisplay,\n  darkTheme\n}) {\n  const {\n    scrollYProgress\n  } = useViewportScroll();\n  const yRange = useTransform(scrollYProgress, [0, 0.9], [0, 1]);\n  const {\n    0: animationDelay,\n    1: setDelay\n  } = useState(Math.random());\n  console.log(\"render gim : [\" + gimId + \"] random number : \" + animationDelay);\n  const currentGim = getGimPropsById(gimId);\n  const prevGim = direction < 0 && !onDisplay.displayState ? getGimPropsById(currentGim.prev) : getGimPropsById(currentGim.next);\n  const nextGim = direction < 0 && !onDisplay.displayState ? getGimPropsById(currentGim.next) : getGimPropsById(currentGim.prev);\n  const stepsk = onDisplay.displayState ? steps + 1 : steps;\n  const gimvariants = {\n    // scaleState : 1,\n    enter: onDisplay => {\n      // scaleState = prevGim.properties.scale;\n      return {\n        y: 0,\n        top: onDisplay.displayState ? `${currentGim.properties.posi.y}%` : onDisplay.displayOff ? `${fromProps.properties.posi.y}%` : `${prevGim.properties.posi.y}%`,\n        left: onDisplay.displayState ? `${currentGim.properties.posi.x}%` : onDisplay.displayOff ? `${fromProps.properties.posi.x}%` : `${prevGim.properties.posi.x}%`,\n        scale: onDisplay.displayState ? currentGim.properties.scale : onDisplay.displayOff ? fromProps.properties.scale : prevGim.properties.scale,\n        zIndex: prevGim.properties.zIndex\n      };\n    },\n    standing: onDisplay => {\n      // this.scaleState = currentGim.properties.scale;\n      return {\n        y: onDisplay.displayState ? 0 : [-10, 10],\n        top: onDisplay.displayState ? `${fromProps.properties.posi.y}%` : `${currentGim.properties.posi.y}%`,\n        left: onDisplay.displayState ? `${fromProps.properties.posi.x}%` : `${currentGim.properties.posi.x}%`,\n        scale: onDisplay.displayState ? fromProps.properties.scale\n        /* 0.5*/\n        : currentGim.properties.scale,\n        zIndex: onDisplay.displayState ? fromProps.properties.zIndex : gimId == 2 || onDisplay.displayOff ? 0 : currentGim.properties.zIndex,\n        transition: {\n          y: {\n            yoyo: Infinity,\n            duration: 1 // delay : animationDelay * 2\n\n          },\n          type: \"spring\",\n          duration: 1.3\n        }\n      };\n    },\n    display: {\n      // position : 'fixed',\n      scale: currentGim.properties.scale,\n      boxShadow: 'none',\n      y: 0,\n      top: '',\n      left: '50%',\n      bottom: '0%',\n      transition: {\n        type: \"spring\",\n        duration: 0.8\n      }\n    },\n    hover: onDisplay => {\n      return {\n        opacity: 1,\n        scale: currentGim.properties.scale * 1.2,\n        transition: {\n          duration: 0.3\n        }\n      };\n    } // exit: (onDisplay: number) => {\n    // \treturn {\n    // \t\ty: 0,\n    // \t\ttop: `${nextGim.properties.posi.y}%`,\n    // \t\tleft: `${nextGim.properties.posi.x}%`,\n    // \t\tscale: nextGim.properties.scale,\n    // \t\tzIndex: nextGim.properties.zIndex,\n    // \t};\n    // }\n\n  };\n  const currentData = getGimCurrenData(data, gimId, steps, direction);\n\n  const clickGim = () => {\n    if (gimId == 0) setOnDisplay(!onDisplay.displayState, fixGimsDataIndex(data, steps + 1), 0);else if (!onDisplay.displayState) nextPosition(currentGim.leftRight);\n    return false;\n  };\n\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: `absolute  flex justify-center items-center ${\"h-36\" || \"h-4\"} ${\"w-36\" || \"w-4\"} m-10  ${darkTheme ? theme.dark.gims.style(false) : theme.light.gims.style}`,\n    variants: gimvariants,\n    initial: \"enter\",\n    animate: \"standing\",\n    custom: onDisplay,\n    drag: true,\n    dragConstraints: {\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0\n    },\n    whileHover: \"hover\",\n    onMouseDown: () => clickGim(),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative flex justify-center items-center w-full h-full\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: `absolute top-1/4 mt-4 ${darkTheme ? theme.dark.gims.text : theme.light.gims.text}`,\n        children: currentData ? currentData.current : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 4\n    }, this)\n  }, stepsk, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 3\n  }, this);\n}\n\nfunction fixGimsDataIndex(data, steps) {\n  let fixedIndex = steps < 0 ? (data.length + steps % data.length) % data.length : steps % data.length;\n  return fixedIndex;\n}\n\nfunction getGimCurrenData(data, gimId, moveSteps, moveDirection) {\n  switch (gimId) {\n    case 0:\n      // main gim\n      return {\n        current: data[fixGimsDataIndex(data, moveSteps + 1)],\n        next: data[fixGimsDataIndex(data, moveSteps + 2)],\n        prev: data[fixGimsDataIndex(data, moveSteps)]\n      };\n\n    case 1:\n      // next gim\n      return {\n        current: data[fixGimsDataIndex(data, moveSteps + 2)],\n        next: data[fixGimsDataIndex(data, moveSteps + 3)],\n        prev: data[fixGimsDataIndex(data, moveSteps + 1)]\n      };\n\n    case 2:\n      // prev gim\n      return {\n        current: data[fixGimsDataIndex(data, moveSteps)],\n        next: data[fixGimsDataIndex(data, moveSteps - 1)],\n        prev: data[fixGimsDataIndex(data, moveSteps + 1)]\n      };\n\n    case 3:\n      // onHold gim\n      return {\n        current: data[fixGimsDataIndex(data, moveSteps + 3)],\n        next: data[fixGimsDataIndex(data, moveSteps + 4)],\n        prev: data[fixGimsDataIndex(data, moveSteps + 2)]\n      };\n\n    case 4:\n      // hidden gim\n      let updatedIndex = moveDirection < 0 ? moveSteps : moveSteps + 3;\n      return {\n        current: data[fixGimsDataIndex(data, moveSteps + 4)],\n        next: data[fixGimsDataIndex(data, moveSteps + 5)],\n        prev: data[fixGimsDataIndex(data, updatedIndex)]\n      };\n  }\n\n  return 0;\n}","map":{"version":3,"sources":["/home/hamza/Desktop/portfolio/components/gim.tsx"],"names":["useState","motion","useTransform","useViewportScroll","theme","gimsProps","getGimPropsById","gimId","filter","gimProps","id","pop","Gim","data","direction","steps","nextPosition","setOnDisplay","onDisplay","darkTheme","scrollYProgress","yRange","animationDelay","setDelay","Math","random","console","log","currentGim","prevGim","displayState","prev","next","nextGim","stepsk","gimvariants","enter","y","top","properties","posi","displayOff","fromProps","left","x","scale","zIndex","standing","transition","yoyo","Infinity","duration","type","display","boxShadow","bottom","hover","opacity","currentData","getGimCurrenData","clickGim","fixGimsDataIndex","leftRight","dark","gims","style","light","right","text","current","fixedIndex","length","moveSteps","moveDirection","updatedIndex"],"mappings":";;AAAA,SAASA,QAAT,QAA4C,OAA5C;AACA,SAASC,MAAT,EAAkCC,YAAlC,EAAgDC,iBAAhD,QAAyF,eAAzF;AAEA,SAASC,KAAT,QAAsB,SAAtB;AACA,SAASC,SAAT,QAA2B,YAA3B;;AAKA,MAAMC,eAAe,GAAIC,KAAD,IAAmB;AAC1C,SAAOF,SAAS,CAACG,MAAV,CAAkBC,QAAD,IAAcA,QAAQ,CAACC,EAAT,IAAeH,KAA9C,EAAqDI,GAArD,MAA8DN,SAAS,CAAC,CAAD,CAA9E;AACA,CAFD;;AAMA,eAAe,SAASO,GAAT,CAAa;AAAEC,EAAAA,IAAF;AAAQN,EAAAA,KAAR;AAAeO,EAAAA,SAAf;AAA0BC,EAAAA,KAA1B;AAAiCC,EAAAA,YAAjC;AAA+CC,EAAAA,YAA/C;AAA6DC,EAAAA,SAA7D;AAAwEC,EAAAA;AAAxE,CAAb,EAAkG;AAEhH,QAAM;AAAEC,IAAAA;AAAF,MAAsBjB,iBAAiB,EAA7C;AACA,QAAMkB,MAAM,GAAGnB,YAAY,CAACkB,eAAD,EAAkB,CAAC,CAAD,EAAI,GAAJ,CAAlB,EAA4B,CAAC,CAAD,EAAI,CAAJ,CAA5B,CAA3B;AAEA,QAAM;AAAA,OAACE,cAAD;AAAA,OAAiBC;AAAjB,MAA6BvB,QAAQ,CAACwB,IAAI,CAACC,MAAL,EAAD,CAA3C;AAGAC,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmBpB,KAAnB,GAA2B,oBAA3B,GAAkDe,cAA9D;AAEA,QAAMM,UAAU,GAAGtB,eAAe,CAACC,KAAD,CAAlC;AACA,QAAMsB,OAAO,GAAIf,SAAS,GAAG,CAAZ,IAAiB,CAACI,SAAS,CAACY,YAA7B,GAA6CxB,eAAe,CAACsB,UAAU,CAACG,IAAZ,CAA5D,GAAgFzB,eAAe,CAACsB,UAAU,CAACI,IAAZ,CAA/G;AACA,QAAMC,OAAO,GAAInB,SAAS,GAAG,CAAZ,IAAiB,CAACI,SAAS,CAACY,YAA7B,GAA6CxB,eAAe,CAACsB,UAAU,CAACI,IAAZ,CAA5D,GAAgF1B,eAAe,CAACsB,UAAU,CAACG,IAAZ,CAA/G;AACA,QAAMG,MAAM,GAAGhB,SAAS,CAACY,YAAV,GAAyBf,KAAK,GAAG,CAAjC,GAAqCA,KAApD;AAEA,QAAMoB,WAAW,GAAG;AACnB;AACAC,IAAAA,KAAK,EAAGlB,SAAD,IAAoB;AAC1B;AACA,aAAO;AACNmB,QAAAA,CAAC,EAAE,CADG;AAENC,QAAAA,GAAG,EAAEpB,SAAS,CAACY,YAAV,GAA0B,GAAEF,UAAU,CAACW,UAAX,CAAsBC,IAAtB,CAA2BH,CAAE,GAAzD,GAAgEnB,SAAS,CAACuB,UAAV,GAAyB,GAAEC,SAAS,CAACH,UAAV,CAAqBC,IAArB,CAA0BH,CAAE,GAAvD,GAA6D,GAAER,OAAO,CAACU,UAAR,CAAmBC,IAAnB,CAAwBH,CAAE,GAFxJ;AAGNM,QAAAA,IAAI,EAAEzB,SAAS,CAACY,YAAV,GAA0B,GAAEF,UAAU,CAACW,UAAX,CAAsBC,IAAtB,CAA2BI,CAAE,GAAzD,GAAiE1B,SAAS,CAACuB,UAAV,GAAwB,GAAEC,SAAS,CAACH,UAAV,CAAqBC,IAArB,CAA0BI,CAAE,GAAtD,GAA2D,GAAEf,OAAO,CAACU,UAAR,CAAmBC,IAAnB,CAAwBI,CAAE,GAHxJ;AAINC,QAAAA,KAAK,EAAE3B,SAAS,CAACY,YAAV,GAAyBF,UAAU,CAACW,UAAX,CAAsBM,KAA/C,GAAyD3B,SAAS,CAACuB,UAAV,GAAuBC,SAAS,CAACH,UAAV,CAAqBM,KAA5C,GAAoDhB,OAAO,CAACU,UAAR,CAAmBM,KAJjI;AAKNC,QAAAA,MAAM,EAAGjB,OAAO,CAACU,UAAR,CAAmBO;AALtB,OAAP;AAQA,KAZkB;AAanBC,IAAAA,QAAQ,EAAG7B,SAAD,IAAoB;AAC7B;AACA,aAAO;AACNmB,QAAAA,CAAC,EAAEnB,SAAS,CAACY,YAAV,GAAyB,CAAzB,GAA6B,CAAC,CAAC,EAAF,EAAM,EAAN,CAD1B;AAENQ,QAAAA,GAAG,EAAEpB,SAAS,CAACY,YAAV,GAA0B,GAAEY,SAAS,CAACH,UAAV,CAAqBC,IAArB,CAA0BH,CAAE,GAAxD,GAA8D,GAAET,UAAU,CAACW,UAAX,CAAsBC,IAAtB,CAA2BH,CAAE,GAF5F;AAGNM,QAAAA,IAAI,EAAEzB,SAAS,CAACY,YAAV,GAA0B,GAAEY,SAAS,CAACH,UAAV,CAAqBC,IAArB,CAA0BI,CAAE,GAAxD,GAA6D,GAAEhB,UAAU,CAACW,UAAX,CAAsBC,IAAtB,CAA2BI,CAAE,GAH5F;AAINC,QAAAA,KAAK,EAAE3B,SAAS,CAACY,YAAV,GAA0BY,SAAS,CAACH,UAAV,CAAqBM;AAAM;AAArD,UAAgEjB,UAAU,CAACW,UAAX,CAAsBM,KAJvF;AAKNC,QAAAA,MAAM,EAAE5B,SAAS,CAACY,YAAV,GAAyBY,SAAS,CAACH,UAAV,CAAqBO,MAA9C,GAAyDvC,KAAK,IAAI,CAAT,IAAcW,SAAS,CAACuB,UAAxB,GAAqC,CAArC,GAAyCb,UAAU,CAACW,UAAX,CAAsBO,MAL1H;AAMNE,QAAAA,UAAU,EAAE;AACXX,UAAAA,CAAC,EAAE;AACFY,YAAAA,IAAI,EAAEC,QADJ;AAEFC,YAAAA,QAAQ,EAAE,CAFR,CAGF;;AAHE,WADQ;AAMXC,UAAAA,IAAI,EAAE,QANK;AAOXD,UAAAA,QAAQ,EAAE;AAPC;AANN,OAAP;AAgBA,KA/BkB;AAgCnBE,IAAAA,OAAO,EAAE;AACR;AACAR,MAAAA,KAAK,EAAGjB,UAAU,CAACW,UAAX,CAAsBM,KAFtB;AAGRS,MAAAA,SAAS,EAAE,MAHH;AAIRjB,MAAAA,CAAC,EAAE,CAJK;AAKRC,MAAAA,GAAG,EAAE,EALG;AAMRK,MAAAA,IAAI,EAAE,KANE;AAORY,MAAAA,MAAM,EAAE,IAPA;AAQRP,MAAAA,UAAU,EAAE;AACXI,QAAAA,IAAI,EAAE,QADK;AAEXD,QAAAA,QAAQ,EAAE;AAFC;AARJ,KAhCU;AA6CnBK,IAAAA,KAAK,EAAGtC,SAAD,IAAoB;AAC1B,aAAO;AACNuC,QAAAA,OAAO,EAAG,CADJ;AAENZ,QAAAA,KAAK,EAAGjB,UAAU,CAACW,UAAX,CAAsBM,KAAtB,GAA8B,GAFhC;AAGNG,QAAAA,UAAU,EAAG;AACZG,UAAAA,QAAQ,EAAG;AADC;AAHP,OAAP;AAOA,KArDkB,CAsDnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA9DmB,GAApB;AAiEA,QAAMO,WAAW,GAAGC,gBAAgB,CAAC9C,IAAD,EAAON,KAAP,EAAcQ,KAAd,EAAqBD,SAArB,CAApC;;AACA,QAAM8C,QAAQ,GAAG,MAAM;AACtB,QAAIrD,KAAK,IAAI,CAAb,EACAU,YAAY,CAAC,CAACC,SAAS,CAACY,YAAZ,EAA0B+B,gBAAgB,CAAChD,IAAD,EAAOE,KAAK,GAAG,CAAf,CAA1C,EAA6D,CAA7D,CAAZ,CADA,KAEK,IAAI,CAAEG,SAAS,CAACY,YAAhB,EACJd,YAAY,CAACY,UAAU,CAACkC,SAAZ,CAAZ;AACD,WAAO,KAAP;AACA,GAND;;AAQA,sBACC,QAAC,MAAD,CAAQ,GAAR;AACC,IAAA,SAAS,EAAG,8CAA6C,UAAU,KAAM,IAAG,UAAU,KAAM,UAAS3C,SAAS,GAAGf,KAAK,CAAC2D,IAAN,CAAWC,IAAX,CAAgBC,KAAhB,CAAsB,KAAtB,CAAH,GAAkC7D,KAAK,CAAC8D,KAAN,CAAYF,IAAZ,CAAiBC,KAAM,EADxK;AAGC,IAAA,QAAQ,EAAE9B,WAHX;AAIC,IAAA,OAAO,EAAC,OAJT;AAKC,IAAA,OAAO,EAAC,UALT;AAMC,IAAA,MAAM,EAAEjB,SANT;AAOC,IAAA,IAAI,MAPL;AAQC,IAAA,eAAe,EAAE;AAChBoB,MAAAA,GAAG,EAAE,CADW;AAEhBK,MAAAA,IAAI,EAAE,CAFU;AAGhBwB,MAAAA,KAAK,EAAE,CAHS;AAIhBZ,MAAAA,MAAM,EAAE;AAJQ,KARlB;AAcC,IAAA,UAAU,EAAC,OAdZ;AAeC,IAAA,WAAW,EAAE,MAAMK,QAAQ,EAf5B;AAAA,2BAkBC;AAAK,MAAA,SAAS,EAAC,yDAAf;AAAA,6BAGC;AAAI,QAAA,SAAS,EAAG,yBAAwBzC,SAAS,GAAGf,KAAK,CAAC2D,IAAN,CAAWC,IAAX,CAAgBI,IAAnB,GAA0BhE,KAAK,CAAC8D,KAAN,CAAYF,IAAZ,CAAiBI,IAAK,EAAjG;AAAA,kBAAqGV,WAAW,GAAGA,WAAW,CAACW,OAAf,GAAyB;AAAzI;AAAA;AAAA;AAAA;AAAA;AAHD;AAAA;AAAA;AAAA;AAAA;AAlBD,KAEMnC,MAFN;AAAA;AAAA;AAAA;AAAA,UADD;AA0BA;;AAQD,SAAS2B,gBAAT,CAA0BhD,IAA1B,EAAgCE,KAAhC,EAAuC;AACtC,MAAIuD,UAAU,GAAGvD,KAAK,GAAG,CAAR,GAAY,CAAEF,IAAI,CAAC0D,MAAN,GAAiBxD,KAAK,GAAGF,IAAI,CAAC0D,MAA/B,IAA0C1D,IAAI,CAAC0D,MAA3D,GAAoExD,KAAK,GAAGF,IAAI,CAAC0D,MAAlG;AACA,SAAQD,UAAR;AACA;;AAED,SAASX,gBAAT,CAA0B9C,IAA1B,EAAgCN,KAAhC,EAAuCiE,SAAvC,EAAkDC,aAAlD,EAAiE;AAChE,UAAQlE,KAAR;AACC,SAAK,CAAL;AAAQ;AACP,aAAO;AACN8D,QAAAA,OAAO,EAAExD,IAAI,CAACgD,gBAAgB,CAAChD,IAAD,EAAO2D,SAAS,GAAG,CAAnB,CAAjB,CADP;AAENxC,QAAAA,IAAI,EAAEnB,IAAI,CAACgD,gBAAgB,CAAChD,IAAD,EAAO2D,SAAS,GAAG,CAAnB,CAAjB,CAFJ;AAGNzC,QAAAA,IAAI,EAAElB,IAAI,CAACgD,gBAAgB,CAAChD,IAAD,EAAO2D,SAAP,CAAjB;AAHJ,OAAP;;AAKD,SAAK,CAAL;AAAQ;AACP,aAAO;AACNH,QAAAA,OAAO,EAAExD,IAAI,CAACgD,gBAAgB,CAAChD,IAAD,EAAO2D,SAAS,GAAG,CAAnB,CAAjB,CADP;AAENxC,QAAAA,IAAI,EAAEnB,IAAI,CAACgD,gBAAgB,CAAChD,IAAD,EAAO2D,SAAS,GAAG,CAAnB,CAAjB,CAFJ;AAGNzC,QAAAA,IAAI,EAAElB,IAAI,CAACgD,gBAAgB,CAAChD,IAAD,EAAO2D,SAAS,GAAG,CAAnB,CAAjB;AAHJ,OAAP;;AAKD,SAAK,CAAL;AAAQ;AACP,aAAO;AACNH,QAAAA,OAAO,EAAExD,IAAI,CAACgD,gBAAgB,CAAChD,IAAD,EAAO2D,SAAP,CAAjB,CADP;AAENxC,QAAAA,IAAI,EAAEnB,IAAI,CAACgD,gBAAgB,CAAChD,IAAD,EAAO2D,SAAS,GAAG,CAAnB,CAAjB,CAFJ;AAGNzC,QAAAA,IAAI,EAAElB,IAAI,CAACgD,gBAAgB,CAAChD,IAAD,EAAO2D,SAAS,GAAG,CAAnB,CAAjB;AAHJ,OAAP;;AAKD,SAAK,CAAL;AAAQ;AACP,aAAO;AACNH,QAAAA,OAAO,EAAExD,IAAI,CAACgD,gBAAgB,CAAChD,IAAD,EAAO2D,SAAS,GAAG,CAAnB,CAAjB,CADP;AAENxC,QAAAA,IAAI,EAAEnB,IAAI,CAACgD,gBAAgB,CAAChD,IAAD,EAAO2D,SAAS,GAAG,CAAnB,CAAjB,CAFJ;AAGNzC,QAAAA,IAAI,EAAElB,IAAI,CAACgD,gBAAgB,CAAChD,IAAD,EAAO2D,SAAS,GAAG,CAAnB,CAAjB;AAHJ,OAAP;;AAKD,SAAK,CAAL;AAAQ;AACP,UAAIE,YAAY,GAAID,aAAa,GAAG,CAAjB,GAAsBD,SAAtB,GAAkCA,SAAS,GAAG,CAAjE;AACA,aAAO;AACNH,QAAAA,OAAO,EAAExD,IAAI,CAACgD,gBAAgB,CAAChD,IAAD,EAAO2D,SAAS,GAAG,CAAnB,CAAjB,CADP;AAENxC,QAAAA,IAAI,EAAEnB,IAAI,CAACgD,gBAAgB,CAAChD,IAAD,EAAO2D,SAAS,GAAG,CAAnB,CAAjB,CAFJ;AAGNzC,QAAAA,IAAI,EAAElB,IAAI,CAACgD,gBAAgB,CAAChD,IAAD,EAAO6D,YAAP,CAAjB;AAHJ,OAAP;AA3BF;;AAiCA,SAAQ,CAAR;AACA","sourcesContent":["import { useState, useEffect, useRef } from 'react'\nimport { motion, AnimatePresence, useTransform, useViewportScroll, useMotionValue } from 'framer-motion'\nimport { wrap } from 'popmotion'\nimport { theme } from './theme'\nimport { gimsProps }  from './gimProps'\n\n\n\n\nconst getGimPropsById = (gimId: number) => {\n\treturn gimsProps.filter((gimProps) => gimProps.id == gimId).pop() || gimsProps[0];\n}\n\n\n\nexport default function Gim({ data, gimId, direction, steps, nextPosition, setOnDisplay, onDisplay, darkTheme }) {\n\n\tconst { scrollYProgress } = useViewportScroll();\n\tconst yRange = useTransform(scrollYProgress, [0, 0.9], [0, 1]);\n\n\tconst [animationDelay, setDelay] = useState(Math.random());\n\n\n\tconsole.log(\"render gim : [\" + gimId + \"] random number : \" + animationDelay);\n\n\tconst currentGim = getGimPropsById(gimId);\n\tconst prevGim = (direction < 0 && !onDisplay.displayState) ? getGimPropsById(currentGim.prev) : getGimPropsById(currentGim.next);\n\tconst nextGim = (direction < 0 && !onDisplay.displayState) ? getGimPropsById(currentGim.next) : getGimPropsById(currentGim.prev);\n\tconst stepsk = onDisplay.displayState ? steps + 1 : steps;\n\n\tconst gimvariants = {\n\t\t// scaleState : 1,\n\t\tenter: (onDisplay: any) => {\n\t\t\t// scaleState = prevGim.properties.scale;\n\t\t\treturn {\n\t\t\t\ty: 0,\n\t\t\t\ttop: onDisplay.displayState ? `${currentGim.properties.posi.y}%` : ( onDisplay.displayOff ?  `${fromProps.properties.posi.y}%` : `${prevGim.properties.posi.y}%`),\n\t\t\t\tleft: onDisplay.displayState ? `${currentGim.properties.posi.x}%` :  ( onDisplay.displayOff ? `${fromProps.properties.posi.x}%` :`${prevGim.properties.posi.x}%`),\n\t\t\t\tscale: onDisplay.displayState ? currentGim.properties.scale : ( onDisplay.displayOff ? fromProps.properties.scale : prevGim.properties.scale),\n\t\t\t\tzIndex:  prevGim.properties.zIndex,\n\t\t\t};\n\n\t\t},\n\t\tstanding: (onDisplay: any) => {\n\t\t\t// this.scaleState = currentGim.properties.scale;\n\t\t\treturn {\n\t\t\t\ty: onDisplay.displayState ? 0 : [-10, 10],\n\t\t\t\ttop: onDisplay.displayState ? `${fromProps.properties.posi.y}%` : `${currentGim.properties.posi.y}%`,\n\t\t\t\tleft: onDisplay.displayState ? `${fromProps.properties.posi.x}%` :`${currentGim.properties.posi.x}%`,\n\t\t\t\tscale: onDisplay.displayState ?  fromProps.properties.scale /* 0.5*/ : currentGim.properties.scale,\n\t\t\t\tzIndex: onDisplay.displayState ? fromProps.properties.zIndex : ( gimId == 2 || onDisplay.displayOff ? 0 : currentGim.properties.zIndex) ,\n\t\t\t\ttransition: {\n\t\t\t\t\ty: {\n\t\t\t\t\t\tyoyo: Infinity,\n\t\t\t\t\t\tduration: 1,\n\t\t\t\t\t\t// delay : animationDelay * 2\n\t\t\t\t\t},\n\t\t\t\t\ttype: \"spring\",\n\t\t\t\t\tduration: 1.3\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tdisplay: {\n\t\t\t// position : 'fixed',\n\t\t\tscale : currentGim.properties.scale,\n\t\t\tboxShadow: 'none',\n\t\t\ty: 0,\n\t\t\ttop: '',\n\t\t\tleft: '50%',\n\t\t\tbottom: '0%',\n\t\t\ttransition: {\n\t\t\t\ttype: \"spring\",\n\t\t\t\tduration: 0.8\n\t\t\t}\n\t\t},\n\t\thover: (onDisplay: any) => {\n\t\t\treturn {\n\t\t\t\topacity : 1,\n\t\t\t\tscale : currentGim.properties.scale * 1.2 ,\n\t\t\t\ttransition : {\n\t\t\t\t\tduration : 0.3\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\t// exit: (onDisplay: number) => {\n\t\t// \treturn {\n\t\t// \t\ty: 0,\n\t\t// \t\ttop: `${nextGim.properties.posi.y}%`,\n\t\t// \t\tleft: `${nextGim.properties.posi.x}%`,\n\t\t// \t\tscale: nextGim.properties.scale,\n\t\t// \t\tzIndex: nextGim.properties.zIndex,\n\t\t// \t};\n\t\t// }\n\t}\n\n\tconst currentData = getGimCurrenData(data, gimId, steps, direction);\n\tconst clickGim = () => {\n\t\tif (gimId == 0)\n\t\tsetOnDisplay(!onDisplay.displayState, fixGimsDataIndex(data, steps + 1), 0)\n\t\telse if (!(onDisplay.displayState))\n\t\t\tnextPosition(currentGim.leftRight)\n\t\treturn false;\n\t}\n\n\treturn (\n\t\t<motion.div\n\t\t\tclassName={`absolute  flex justify-center items-center ${\"h-36\" || \"h-4\"} ${\"w-36\" || \"w-4\"} m-10  ${darkTheme ? theme.dark.gims.style(false) : theme.light.gims.style}`}\n\t\t\tkey={stepsk}\n\t\t\tvariants={gimvariants}\n\t\t\tinitial=\"enter\"\n\t\t\tanimate=\"standing\"\n\t\t\tcustom={onDisplay}\n\t\t\tdrag\n\t\t\tdragConstraints={{\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\tbottom: 0,\n\t\t\t}}\n\t\t\twhileHover=\"hover\"\n\t\t\tonMouseDown={() => clickGim()}\n\t\t>\n\n\t\t\t<div className=\"relative flex justify-center items-center w-full h-full\" >\n\t\t\t\t{/* {!darkTheme && <div className=\"absolute -top-1/4 -left-1/4 h-32 w-32 bg-white rounded-full\"></div>}\n\t\t\t\t{!darkTheme && <div className=\"absolute top-1/4 -right-1/4 h-16 w-16 bg-white rounded-full\"></div>} */}\n\t\t\t\t<h1 className={`absolute top-1/4 mt-4 ${darkTheme ? theme.dark.gims.text : theme.light.gims.text}`}>{currentData ? currentData.current : \"\"}</h1>\n\t\t\t</div>\n\t\t</motion.div>\n\t);\n}\n\n\n\n\n\n\n\nfunction fixGimsDataIndex(data, steps) {\n\tlet fixedIndex = steps < 0 ? ((data.length) + (steps % data.length)) % data.length : steps % data.length;\n\treturn (fixedIndex);\n}\n\nfunction getGimCurrenData(data, gimId, moveSteps, moveDirection) {\n\tswitch (gimId) {\n\t\tcase 0: // main gim\n\t\t\treturn {\n\t\t\t\tcurrent: data[fixGimsDataIndex(data, moveSteps + 1)],\n\t\t\t\tnext: data[fixGimsDataIndex(data, moveSteps + 2)],\n\t\t\t\tprev: data[fixGimsDataIndex(data, moveSteps)],\n\t\t\t};\n\t\tcase 1: // next gim\n\t\t\treturn {\n\t\t\t\tcurrent: data[fixGimsDataIndex(data, moveSteps + 2)],\n\t\t\t\tnext: data[fixGimsDataIndex(data, moveSteps + 3)],\n\t\t\t\tprev: data[fixGimsDataIndex(data, moveSteps + 1)],\n\t\t\t};\n\t\tcase 2: // prev gim\n\t\t\treturn {\n\t\t\t\tcurrent: data[fixGimsDataIndex(data, moveSteps)],\n\t\t\t\tnext: data[fixGimsDataIndex(data, moveSteps - 1)],\n\t\t\t\tprev: data[fixGimsDataIndex(data, moveSteps + 1)],\n\t\t\t};\n\t\tcase 3: // onHold gim\n\t\t\treturn {\n\t\t\t\tcurrent: data[fixGimsDataIndex(data, moveSteps + 3)],\n\t\t\t\tnext: data[fixGimsDataIndex(data, moveSteps + 4)],\n\t\t\t\tprev: data[fixGimsDataIndex(data, moveSteps + 2)],\n\t\t\t};\n\t\tcase 4: // hidden gim\n\t\t\tlet updatedIndex = (moveDirection < 0) ? moveSteps : moveSteps + 3;\n\t\t\treturn {\n\t\t\t\tcurrent: data[fixGimsDataIndex(data, moveSteps + 4)],\n\t\t\t\tnext: data[fixGimsDataIndex(data, moveSteps + 5)],\n\t\t\t\tprev: data[fixGimsDataIndex(data, updatedIndex)],\n\t\t\t};\n\t}\n\treturn (0);\n}\n"]},"metadata":{},"sourceType":"module"}
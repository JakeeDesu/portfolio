{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/goinfre/hmhindat/portfolio/components/gim.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from 'react';\nimport { motion, useTransform, useViewportScroll, useMotionValue } from 'framer-motion';\nimport { wrap } from 'popmotion';\nvar gimsProps = [{\n  id: 0,\n  // needed to fix \" key for map, organize layer order \"\n  type: \"main\",\n  leftRight: 0,\n  next: 1,\n  prev: 2,\n  properties: {\n    title: \"main\",\n    size: 100,\n    posi: {\n      x: 34,\n      y: 55\n    },\n    scale: 1.8,\n    zIndex: 50\n  }\n}, {\n  id: 1,\n  type: \"next\",\n  leftRight: 1,\n  next: 3,\n  prev: 0,\n  properties: {\n    title: \"next\",\n    size: 60,\n    posi: {\n      x: 75,\n      y: 40\n    },\n    scale: 1,\n    zIndex: 10\n  }\n}, {\n  id: 2,\n  type: \"previous\",\n  leftRight: -1,\n  next: 0,\n  prev: 4,\n  properties: {\n    title: \"previous\",\n    size: 80,\n    posi: {\n      x: 15,\n      y: 12\n    },\n    scale: 0.9,\n    zIndex: 0\n  }\n}, {\n  id: 3,\n  type: \"onHold\",\n  leftRight: 1,\n  next: 4,\n  prev: 1,\n  properties: {\n    title: \"...\",\n    size: 50,\n    posi: {\n      x: 60,\n      y: 8\n    },\n    scale: 0.3,\n    zIndex: 0\n  }\n}, {\n  id: 4,\n  type: \"hidden\",\n  leftRight: -1,\n  next: 2,\n  prev: 3,\n  properties: {\n    title: \"hidden\",\n    size: 40,\n    posi: {\n      x: 40,\n      y: 9\n    },\n    scale: 0.1,\n    zIndex: 0\n  }\n}];\n\nvar getGimPropsById = function getGimPropsById(gimId) {\n  return gimsProps.filter(function (gimProps) {\n    return gimProps.id == gimId;\n  }).pop() || gimsProps[0];\n};\n\nexport default function Gim(_ref) {\n  _s();\n\n  var data = _ref.data,\n      gimId = _ref.gimId,\n      direction = _ref.direction,\n      steps = _ref.steps,\n      nextPosition = _ref.nextPosition;\n  var x = useMotionValue(0);\n  var y = useMotionValue(0);\n\n  var _useViewportScroll = useViewportScroll(),\n      scrollYProgress = _useViewportScroll.scrollYProgress;\n\n  var yRange = useTransform(scrollYProgress, [0, 0.9], [0, 1]);\n  var btnRef = useRef(null);\n\n  var _useState = useState(Math.random()),\n      animationDelay = _useState[0],\n      setDelay = _useState[1];\n\n  useEffect(function () {\n    btnRef.current.setAttribute(\"disabled\", \"disabled\"); // const timer = setTimeout(() => btnRef.current.setAttribute(\"disabled\", \"disabled\") , 1300);\n    // return () => clearTimeout(timer);\n  }, []); // btnRef.current.setAttribute(\"disabled\", \"disabled\");\n\n  console.log(\"render gim : [\" + gimId + \"] random number : \" + animationDelay);\n  var currentIndex = wrap(0, gimsProps.length, steps);\n  var currentGim = getGimPropsById(gimId);\n  var prevGim = direction < 0 ? getGimPropsById(currentGim.prev) : getGimPropsById(currentGim.next);\n  var nextGim = direction < 0 ? getGimPropsById(currentGim.next) : getGimPropsById(currentGim.prev);\n  var gimvariants = {\n    enter: function enter(direction) {\n      return {\n        y: 0,\n        top: \"\".concat(prevGim.properties.posi.y, \"%\"),\n        left: \"\".concat(prevGim.properties.posi.x, \"%\"),\n        // heigth : `${currentGim.properties.size}px`,\n        // width : `${currentGim.properties.size}px`,\n        scale: prevGim.properties.scale,\n        zIndex: prevGim.properties.zIndex // backgroudColor : direction ? \"red\" : \"blue\",\n\n      };\n    },\n    standing: {\n      y: [-10, 10],\n      top: \"\".concat(currentGim.properties.posi.y, \"%\"),\n      left: \"\".concat(currentGim.properties.posi.x, \"%\"),\n      // h : `${currentGim.properties.size}px`,\n      // w : `${currentGim.properties.size}px`,\n      scale: currentGim.properties.scale,\n      zIndex: direction > 0 && gimId == 2 ? 10 : currentGim.properties.zIndex,\n      // backgroudColor : direction ? \"red\" : \"blue\",\n      transition: {\n        y: {\n          yoyo: Infinity,\n          duration: 1 // delay : animationDelay * 2\n\n        },\n        type: \"spring\",\n        duration: 1.3\n      }\n    },\n    exit: function exit(direction) {\n      return {\n        y: 0,\n        top: \"\".concat(nextGim.properties.posi.y, \"%\"),\n        left: \"\".concat(nextGim.properties.posi.x, \"%\"),\n        // heigth : `${currentGim.properties.size}px`,\n        // width : `${currentGim.properties.size}px`,\n        scale: nextGim.properties.scale,\n        zIndex: nextGim.properties.zIndex\n      };\n    }\n  };\n  var offsetX = useTransform(scrollYProgress, [0, 0.5, 1], [currentGim.properties.posi.x, currentGim.properties.posi.x + 50, currentGim.properties.posi.x]);\n  var offsetY = useTransform(scrollYProgress, [0, 0.5, 1], [currentGim.properties.posi.y, currentGim.properties.posi.y + 1000, currentGim.properties.posi.y]);\n  var offsetyy = useTransform(offsetY, function (value) {\n    return \"\".concat(value, \"%\");\n  });\n  var offsetxx = useTransform(offsetX, function (value) {\n    return \"\".concat(value, \"%\");\n  });\n  var currentData = getGimCurrenData(data, gimId, steps, direction);\n  return (\n    /*#__PURE__*/\n    // <AnimatePresence initial={false} custom={direction * -1}>\n    _jsxDEV(motion.div, {\n      ref: btnRef,\n      className: \"absolute flex justify-center items-center \".concat(\"h-36\" || \"h-4\", \" \").concat(\"w-36\" || \"w-4\", \" rounded-full bg-red-400\"),\n      variants: gimvariants,\n      initial: \"enter\",\n      animate: \"standing\",\n      custom: direction,\n      transition: {// type: \"spring\",\n        // duration : 4,\n      },\n      style: {\n        top: gimId == 0 ? offsetyy : 0,\n        left: gimId == 0 ? offsetxx : 0,\n        zIndex: gimId == 0 ? 1000 : 1\n      },\n      whileHover: {\n        // scale: currentGim.properties.scale * 1.2,\n        boxShadow: '0 0px 20px 8px rgba(255, 255, 255, 0.5)',\n        transition: {\n          duration: 0.3 // y: {\n          // \tyoyo : Infinity,\n          // \tduration: 1,\n          // \tdelay : animationDelay * 2\n          // },\n          // x: {\n          // \tyoyo : Infinity,\n          // \tduration: 1,\n          // },\n\n        }\n      },\n      onMouseDown: function onMouseDown() {\n        return nextPosition(currentGim.leftRight);\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: currentData ? currentData.current : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 5\n      }, this)\n    }, steps, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 4\n    }, this) // </AnimatePresence>\n\n  );\n}\n\n_s(Gim, \"FBa1Aq+6Vzfxj808A3qLVPYrMR4=\", false, function () {\n  return [useMotionValue, useMotionValue, useViewportScroll, useTransform, useTransform, useTransform, useTransform, useTransform];\n});\n\n_c = Gim;\n\nfunction fixGimsDataIndex(data, steps) {\n  var fixedIndex = steps < 0 ? (data.length + steps % data.length) % data.length : steps % data.length;\n  return fixedIndex;\n}\n\nfunction getGimCurrenData(data, gimId, moveSteps, moveDirection) {\n  switch (gimId) {\n    case 0:\n      // main gim\n      return {\n        current: data[fixGimsDataIndex(data, moveSteps + 1)],\n        next: data[fixGimsDataIndex(data, moveSteps + 2)],\n        prev: data[fixGimsDataIndex(data, moveSteps)]\n      };\n\n    case 1:\n      // next gim\n      return {\n        current: data[fixGimsDataIndex(data, moveSteps + 2)],\n        next: data[fixGimsDataIndex(data, moveSteps + 3)],\n        prev: data[fixGimsDataIndex(data, moveSteps + 1)]\n      };\n\n    case 2:\n      // prev gim\n      return {\n        current: data[fixGimsDataIndex(data, moveSteps)],\n        next: data[fixGimsDataIndex(data, moveSteps - 1)],\n        prev: data[fixGimsDataIndex(data, moveSteps + 1)]\n      };\n\n    case 3:\n      // onHold gim\n      return {\n        current: data[fixGimsDataIndex(data, moveSteps + 3)],\n        next: data[fixGimsDataIndex(data, moveSteps + 4)],\n        prev: data[fixGimsDataIndex(data, moveSteps + 2)]\n      };\n\n    case 4:\n      // hidden gim\n      var updatedIndex = moveDirection < 0 ? moveSteps : moveSteps + 3;\n      return {\n        current: data[fixGimsDataIndex(data, moveSteps + 4)],\n        next: data[fixGimsDataIndex(data, moveSteps + 5)],\n        prev: data[fixGimsDataIndex(data, updatedIndex)]\n      };\n  }\n\n  return 0;\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Gim\");","map":{"version":3,"sources":["/goinfre/hmhindat/portfolio/components/gim.tsx"],"names":["useState","useEffect","useRef","motion","useTransform","useViewportScroll","useMotionValue","wrap","gimsProps","id","type","leftRight","next","prev","properties","title","size","posi","x","y","scale","zIndex","getGimPropsById","gimId","filter","gimProps","pop","Gim","data","direction","steps","nextPosition","scrollYProgress","yRange","btnRef","Math","random","animationDelay","setDelay","current","setAttribute","console","log","currentIndex","length","currentGim","prevGim","nextGim","gimvariants","enter","top","left","standing","transition","yoyo","Infinity","duration","exit","offsetX","offsetY","offsetyy","value","offsetxx","currentData","getGimCurrenData","boxShadow","fixGimsDataIndex","fixedIndex","moveSteps","moveDirection","updatedIndex"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef } from 'react'\nimport { motion, AnimatePresence, useTransform, useViewportScroll, useMotionValue } from 'framer-motion'\nimport { wrap } from 'popmotion'\n\n\n\nconst gimsProps = [\n\t{\n\t\tid: 0, // needed to fix \" key for map, organize layer order \"\n\t\ttype: \"main\",\n\t\tleftRight: 0,\n\t\tnext: 1,\n\t\tprev: 2,\n\t\tproperties: {\n\t\t\ttitle: \"main\",\n\t\t\tsize: 100,\n\t\t\tposi: { x: 34, y: 55 },\n\t\t\tscale: 1.8,\n\t\t\tzIndex: 50,\n\t\t}\n\t},\n\t{\n\t\tid: 1,\n\t\ttype: \"next\",\n\t\tleftRight: 1,\n\t\tnext: 3,\n\t\tprev: 0,\n\t\tproperties: {\n\t\t\ttitle: \"next\",\n\t\t\tsize: 60,\n\t\t\tposi: { x: 75, y: 40 },\n\t\t\tscale: 1,\n\t\t\tzIndex: 10,\n\n\t\t}\n\t},\n\t{\n\t\tid: 2,\n\t\ttype: \"previous\",\n\t\tleftRight: -1,\n\t\tnext: 0,\n\t\tprev: 4,\n\t\tproperties: {\n\t\t\ttitle: \"previous\",\n\t\t\tsize: 80,\n\t\t\tposi: { x: 15, y: 12 },\n\t\t\tscale: 0.9,\n\t\t\tzIndex: 0,\n\t\t}\n\t},\n\t{\n\t\tid: 3,\n\t\ttype: \"onHold\",\n\t\tleftRight: 1,\n\t\tnext: 4,\n\t\tprev: 1,\n\t\tproperties: {\n\t\t\ttitle: \"...\",\n\t\t\tsize: 50,\n\t\t\tposi: { x: 60, y: 8 },\n\t\t\tscale: 0.3,\n\t\t\tzIndex: 0,\n\t\t}\n\t}\n\t,\n\t{\n\t\tid: 4,\n\t\ttype: \"hidden\",\n\t\tleftRight: -1,\n\t\tnext: 2,\n\t\tprev: 3,\n\t\tproperties: {\n\t\t\ttitle: \"hidden\",\n\t\t\tsize: 40,\n\t\t\tposi: { x: 40, y: 9 },\n\t\t\tscale: 0.1,\n\t\t\tzIndex: 0,\n\t\t}\n\t}\n]\n\nconst getGimPropsById = (gimId: number) => {\n\treturn gimsProps.filter((gimProps) => gimProps.id == gimId).pop() || gimsProps[0];\n}\n\n\n\nexport default function Gim({data, gimId, direction, steps, nextPosition }) {\n\n\tconst x = useMotionValue(0)\n\tconst y = useMotionValue(0)\n\n\tconst { scrollYProgress } = useViewportScroll();\n  const yRange = useTransform(scrollYProgress, [0, 0.9], [0, 1]);\n\tconst btnRef = useRef(null);\n\tconst [animationDelay, setDelay] = useState(Math.random());\n\n\tuseEffect(() => {\n\t\t\tbtnRef.current.setAttribute(\"disabled\", \"disabled\");\n\t\t// const timer = setTimeout(() => btnRef.current.setAttribute(\"disabled\", \"disabled\") , 1300);\n\t\t// return () => clearTimeout(timer);\n\t}, [])\n\t// btnRef.current.setAttribute(\"disabled\", \"disabled\");\n\n\tconsole.log(\"render gim : [\" + gimId + \"] random number : \" + animationDelay);\n\tconst currentIndex = wrap(0, gimsProps.length, steps)\n\tconst currentGim = getGimPropsById(gimId);\n\tconst prevGim = (direction < 0) ? getGimPropsById(currentGim.prev) : getGimPropsById(currentGim.next);\n\tconst nextGim = (direction < 0) ? getGimPropsById(currentGim.next) : getGimPropsById(currentGim.prev);\n\tconst gimvariants = {\n\t\tenter: (direction: number) => {\n\t\t\treturn {\n\t\t\t\ty: 0,\n\t\t\t\ttop: `${prevGim.properties.posi.y}%`,\n\t\t\t\tleft: `${prevGim.properties.posi.x}%`,\n\t\t\t\t// heigth : `${currentGim.properties.size}px`,\n\t\t\t\t// width : `${currentGim.properties.size}px`,\n\t\t\t\tscale: prevGim.properties.scale,\n\t\t\t\tzIndex: prevGim.properties.zIndex,\n\t\t\t\t// backgroudColor : direction ? \"red\" : \"blue\",\n\t\t\t};\n\n\t\t},\n\t\tstanding: {\n\t\t\ty: [-10 , 10],\n\t\t\ttop: `${currentGim.properties.posi.y}%`,\n\t\t\tleft: `${currentGim.properties.posi.x}%`,\n\t\t\t// h : `${currentGim.properties.size}px`,\n\t\t\t// w : `${currentGim.properties.size}px`,\n\t\t\tscale: currentGim.properties.scale,\n\t\t\tzIndex:  direction > 0 && gimId == 2? 10 : currentGim.properties.zIndex,\n\t\t\t// backgroudColor : direction ? \"red\" : \"blue\",\n\t\t\ttransition: {\n\t\t\t\ty: {\n\t\t\t\t\tyoyo : Infinity,\n\t\t\t\t\tduration: 1,\n\t\t\t\t\t// delay : animationDelay * 2\n\t\t\t\t},\n\t\t\t\ttype : \"spring\",\n\t\t\t\tduration : 1.3\n\t\t\t}\n\t\t},\n\t\texit: (direction: number) => {\n\t\t\treturn {\n\t\t\t\ty : 0,\n\t\t\t\ttop: `${nextGim.properties.posi.y}%`,\n\t\t\t\tleft: `${nextGim.properties.posi.x}%`,\n\t\t\t\t// heigth : `${currentGim.properties.size}px`,\n\t\t\t\t// width : `${currentGim.properties.size}px`,\n\t\t\t\tscale: nextGim.properties.scale,\n\t\t\t\tzIndex:  nextGim.properties.zIndex,\n\t\t\t};\n\t\t}\n\t}\n\n\tconst offsetX = useTransform(scrollYProgress, [0, 0.5, 1], [currentGim.properties.posi.x , currentGim.properties.posi.x + 50, currentGim.properties.posi.x])\n\tconst offsetY = useTransform(scrollYProgress, [0, 0.5, 1], [currentGim.properties.posi.y , currentGim.properties.posi.y + 1000, currentGim.properties.posi.y])\n\tconst offsetyy = useTransform(offsetY, value => `${value}%`);\n\tconst offsetxx = useTransform(offsetX, value => `${value}%`);\n\tconst currentData = getGimCurrenData(data, gimId, steps, direction);\n\treturn (\n\t\t// <AnimatePresence initial={false} custom={direction * -1}>\n\t\t\t<motion.div\n\t\t\t\tref={btnRef}\n\t\t\t\tclassName={`absolute flex justify-center items-center ${\"h-36\" || \"h-4\"} ${\"w-36\" || \"w-4\"} rounded-full bg-red-400`}\n\t\t\t\tkey={steps}\n\t\t\t\tvariants={gimvariants}\n\t\t\t\tinitial=\"enter\"\n\t\t\t\tanimate=\"standing\"\n\t\t\t\tcustom={direction}\n\t\t\t\ttransition={{\n\t\t\t\t\t// type: \"spring\",\n\t\t\t\t\t// duration : 4,\n\t\t\t\t}}\n\t\t\t\tstyle={{\n\t\t\t\t\ttop : gimId == 0 ? offsetyy : 0,\n\t\t\t\t\tleft  :  gimId == 0 ? offsetxx : 0,\n\t\t\t\t\tzIndex : gimId == 0 ? 1000 : 1,\n\t\t\t\t}}\n\t\t\t\twhileHover={{\n\t\t\t\t\t// scale: currentGim.properties.scale * 1.2,\n\t\t\t\t\tboxShadow: '0 0px 20px 8px rgba(255, 255, 255, 0.5)',\n\t\t\t\t\ttransition :{\n\t\t\t\t\t\tduration : 0.3,\n\t\t\t\t\t\t// y: {\n\t\t\t\t\t\t// \tyoyo : Infinity,\n\t\t\t\t\t\t// \tduration: 1,\n\t\t\t\t\t\t// \tdelay : animationDelay * 2\n\t\t\t\t\t\t// },\n\t\t\t\t\t\t// x: {\n\t\t\t\t\t\t// \tyoyo : Infinity,\n\t\t\t\t\t\t// \tduration: 1,\n\t\t\t\t\t\t// },\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\tonMouseDown={() => nextPosition(currentGim.leftRight)}\n\t\t\t><h1>\n\t\t\t\t{currentData ? currentData.current : \"\"}\n\t\t\t</h1>\n\t\t\t</motion.div>\n\t\t// </AnimatePresence>\n\t);\n}\n\nfunction fixGimsDataIndex(data, steps) {\n\tlet fixedIndex = steps < 0 ? ((data.length) + (steps % data.length)) % data.length  : steps % data.length;\n\treturn (fixedIndex);\n}\n\nfunction getGimCurrenData(data, gimId, moveSteps, moveDirection) {\n\tswitch (gimId) {\n\t\tcase 0: // main gim\n\t\t\treturn {\n\t\t\t\tcurrent : data[fixGimsDataIndex(data, moveSteps + 1)],\n\t\t\t\tnext : data[fixGimsDataIndex(data, moveSteps + 2)],\n\t\t\t\tprev : data[fixGimsDataIndex(data, moveSteps )],\n\t\t\t};\n\t\tcase 1: // next gim\n\t\t\treturn {\n\t\t\t\tcurrent : data[fixGimsDataIndex(data, moveSteps + 2)],\n\t\t\t\tnext : data[fixGimsDataIndex(data, moveSteps + 3)],\n\t\t\t\tprev : data[fixGimsDataIndex(data, moveSteps + 1)],\n\t\t\t};\n\t\tcase 2: // prev gim\n\t\t\treturn {\n\t\t\t\tcurrent : data[fixGimsDataIndex(data, moveSteps)],\n\t\t\t\tnext : data[fixGimsDataIndex(data, moveSteps - 1)],\n\t\t\t\tprev : data[fixGimsDataIndex(data, moveSteps + 1)],\n\t\t\t};\n\t\tcase 3: // onHold gim\n\t\t\treturn {\n\t\t\t\tcurrent : data[fixGimsDataIndex(data, moveSteps + 3)],\n\t\t\t\tnext : data[fixGimsDataIndex(data, moveSteps + 4)],\n\t\t\t\tprev : data[fixGimsDataIndex(data, moveSteps + 2)],\n\t\t\t};\n\t\tcase 4: // hidden gim\n\t\t\tlet updatedIndex = (moveDirection < 0) ? moveSteps : moveSteps + 3;\n\t\t\treturn {\n\t\t\t\tcurrent : data[fixGimsDataIndex(data, moveSteps + 4)],\n\t\t\t\tnext : data[fixGimsDataIndex(data, moveSteps + 5)],\n\t\t\t\tprev : data[fixGimsDataIndex(data, updatedIndex)],\n\t\t\t};\n\t\t}\n\treturn (0);\n}\n"]},"metadata":{},"sourceType":"module"}
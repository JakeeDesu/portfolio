{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/hamza/Desktop/portfolio/components/gim.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { motion, useTransform, useViewportScroll } from 'framer-motion';\nimport { theme } from './theme';\nvar gimsProps = [{\n  id: 0,\n  // needed to fix \" key for map, organize layer order \"\n  type: \"main\",\n  leftRight: 0,\n  next: 1,\n  prev: 2,\n  properties: {\n    title: \"main\",\n    size: 100,\n    posi: {\n      x: 34,\n      y: 55\n    },\n    scale: 1.8,\n    zIndex: 100\n  }\n}, {\n  id: 1,\n  type: \"next\",\n  leftRight: 1,\n  next: 3,\n  prev: 0,\n  properties: {\n    title: \"next\",\n    size: 60,\n    posi: {\n      x: 75,\n      y: 40\n    },\n    scale: 1,\n    zIndex: 10\n  }\n}, {\n  id: 2,\n  type: \"previous\",\n  leftRight: -1,\n  next: 0,\n  prev: 4,\n  properties: {\n    title: \"previous\",\n    size: 80,\n    posi: {\n      x: 15,\n      y: 12\n    },\n    scale: 0.9,\n    zIndex: 0\n  }\n}, {\n  id: 3,\n  type: \"onHold\",\n  leftRight: 1,\n  next: 4,\n  prev: 1,\n  properties: {\n    title: \"...\",\n    size: 50,\n    posi: {\n      x: 60,\n      y: 8\n    },\n    scale: 0.3,\n    zIndex: 0\n  }\n}, {\n  id: 4,\n  type: \"hidden\",\n  leftRight: -1,\n  next: 2,\n  prev: 3,\n  properties: {\n    title: \"hidden\",\n    size: 40,\n    posi: {\n      x: 40,\n      y: 9\n    },\n    scale: 0.1,\n    zIndex: 0\n  }\n}];\nvar fromProps = {\n  properties: {\n    title: \"start\",\n    size: 40,\n    posi: {\n      x: 45,\n      y: 0\n    },\n    scale: 0.1,\n    zIndex: -10\n  }\n};\n\nvar getGimPropsById = function getGimPropsById(gimId) {\n  return gimsProps.filter(function (gimProps) {\n    return gimProps.id == gimId;\n  }).pop() || gimsProps[0];\n};\n\nexport default function Gim(_ref) {\n  _s();\n\n  var data = _ref.data,\n      gimId = _ref.gimId,\n      direction = _ref.direction,\n      steps = _ref.steps,\n      nextPosition = _ref.nextPosition,\n      setOnDisplay = _ref.setOnDisplay,\n      onDisplay = _ref.onDisplay,\n      darkTheme = _ref.darkTheme;\n\n  var _useViewportScroll = useViewportScroll(),\n      scrollYProgress = _useViewportScroll.scrollYProgress;\n\n  var yRange = useTransform(scrollYProgress, [0, 0.9], [0, 1]);\n\n  var _useState = useState(Math.random()),\n      animationDelay = _useState[0],\n      setDelay = _useState[1];\n\n  console.log(\"render gim : [\" + gimId + \"] random number : \" + animationDelay);\n  var currentGim = getGimPropsById(gimId);\n  var prevGim = direction < 0 && !onDisplay.displayState ? getGimPropsById(currentGim.prev) : getGimPropsById(currentGim.next);\n  var nextGim = direction < 0 && !onDisplay.displayState ? getGimPropsById(currentGim.next) : getGimPropsById(currentGim.prev);\n  var stepsk = onDisplay.displayState ? steps + 1 : steps;\n  var gimvariants = {\n    enter: function enter(onDisplay, displayOff) {\n      return {\n        y: 0,\n        top: onDisplay ? \"\".concat(currentGim.properties.posi.y, \"%\") : displayOff ? \"\".concat(fromProps.properties.posi.y, \"%\") : \"\".concat(prevGim.properties.posi.y, \"%\"),\n        left: onDisplay ? \"\".concat(currentGim.properties.posi.x, \"%\") : displayOff ? \"\".concat(fromProps.properties.posi.x, \"%\") : \"\".concat(prevGim.properties.posi.x, \"%\"),\n        scale: onDisplay ? currentGim.properties.scale : displayOff ? fromProps.properties.scale : prevGim.properties.scale,\n        zIndex: prevGim.properties.zIndex\n      };\n    },\n    standing: function standing(onDisplay, displayOff) {\n      return {\n        y: onDisplay ? 0 : [-10, 10],\n        top: onDisplay ? \"\".concat(fromProps.properties.posi.y, \"%\") : \"\".concat(currentGim.properties.posi.y, \"%\"),\n        left: onDisplay ? \"\".concat(fromProps.properties.posi.x, \"%\") : \"\".concat(currentGim.properties.posi.x, \"%\"),\n        scale: onDisplay ? fromProps.properties.scale\n        /* 0.5*/\n        : currentGim.properties.scale,\n        zIndex: direction > 0 && gimId == 2 ? onDisplay ? fromProps.properties.scale : 10 : onDisplay ? fromProps.properties.scale : currentGim.properties.zIndex,\n        transition: {\n          y: {\n            yoyo: Infinity,\n            duration: 1 // delay : animationDelay * 2\n\n          },\n          type: \"spring\",\n          duration: 1.3\n        }\n      };\n    },\n    display: {\n      // position : 'fixed',\n      scale: currentGim.properties.scale,\n      boxShadow: 'none',\n      y: 0,\n      top: '',\n      left: '50%',\n      bottom: '0%',\n      transition: {\n        type: \"spring\",\n        duration: 0.8\n      }\n    } // exit: (onDisplay: number) => {\n    // \treturn {\n    // \t\ty: 0,\n    // \t\ttop: `${nextGim.properties.posi.y}%`,\n    // \t\tleft: `${nextGim.properties.posi.x}%`,\n    // \t\tscale: nextGim.properties.scale,\n    // \t\tzIndex: nextGim.properties.zIndex,\n    // \t};\n    // }\n\n  };\n  var currentData = getGimCurrenData(data, gimId, steps, direction);\n\n  var clickGim = function clickGim() {\n    if (gimId == 0) setOnDisplay(!onDisplay.displayState, fixGimsDataIndex(data, steps + 1), 0);else if (!onDisplay.displayState) nextPosition(currentGim.leftRight);\n    return false;\n  };\n\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: \"absolute  flex justify-center items-center \".concat(\"h-36\" || \"h-4\", \" \").concat(\"w-36\" || \"w-4\", \" m-10 rounded-full \").concat(darkTheme ? theme.dark.gims.style : theme.light.gims.style),\n    variants: gimvariants,\n    initial: \"enter\",\n    animate: \"standing\",\n    custom: onDisplay.displayState,\n    drag: true,\n    dragConstraints: {\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0\n    },\n    whileHover: {\n      // scale: currentGim.properties.scale * 1.2,\n      // boxShadow: '0 0px 30px 2px rgb(255, 255, 255, 0.3)',\n      transition: {\n        duration: 0.3\n      }\n    },\n    onMouseDown: function onMouseDown() {\n      return clickGim();\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative flex justify-center items-center w-full h-full\",\n      children: [!darkTheme && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute -top-1/4 -left-1/4 h-32 w-32 bg-white rounded-full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 20\n      }, this), !darkTheme && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-1/4 -right-1/4 h-16 w-16 bg-white rounded-full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 20\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"absolute top-1/4 mt-4 \".concat(darkTheme ? theme.dark.gims.text : theme.light.gims.text),\n        children: currentData ? currentData.current : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 4\n    }, this)\n  }, stepsk, false, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Gim, \"k+HClhlmX/H/RWMLzZCYiEYIaIc=\", false, function () {\n  return [useViewportScroll, useTransform];\n});\n\n_c = Gim;\n\nfunction fixGimsDataIndex(data, steps) {\n  var fixedIndex = steps < 0 ? (data.length + steps % data.length) % data.length : steps % data.length;\n  return fixedIndex;\n}\n\nfunction getGimCurrenData(data, gimId, moveSteps, moveDirection) {\n  switch (gimId) {\n    case 0:\n      // main gim\n      return {\n        current: data[fixGimsDataIndex(data, moveSteps + 1)],\n        next: data[fixGimsDataIndex(data, moveSteps + 2)],\n        prev: data[fixGimsDataIndex(data, moveSteps)]\n      };\n\n    case 1:\n      // next gim\n      return {\n        current: data[fixGimsDataIndex(data, moveSteps + 2)],\n        next: data[fixGimsDataIndex(data, moveSteps + 3)],\n        prev: data[fixGimsDataIndex(data, moveSteps + 1)]\n      };\n\n    case 2:\n      // prev gim\n      return {\n        current: data[fixGimsDataIndex(data, moveSteps)],\n        next: data[fixGimsDataIndex(data, moveSteps - 1)],\n        prev: data[fixGimsDataIndex(data, moveSteps + 1)]\n      };\n\n    case 3:\n      // onHold gim\n      return {\n        current: data[fixGimsDataIndex(data, moveSteps + 3)],\n        next: data[fixGimsDataIndex(data, moveSteps + 4)],\n        prev: data[fixGimsDataIndex(data, moveSteps + 2)]\n      };\n\n    case 4:\n      // hidden gim\n      var updatedIndex = moveDirection < 0 ? moveSteps : moveSteps + 3;\n      return {\n        current: data[fixGimsDataIndex(data, moveSteps + 4)],\n        next: data[fixGimsDataIndex(data, moveSteps + 5)],\n        prev: data[fixGimsDataIndex(data, updatedIndex)]\n      };\n  }\n\n  return 0;\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Gim\");","map":{"version":3,"sources":["/home/hamza/Desktop/portfolio/components/gim.tsx"],"names":["useState","motion","useTransform","useViewportScroll","theme","gimsProps","id","type","leftRight","next","prev","properties","title","size","posi","x","y","scale","zIndex","fromProps","getGimPropsById","gimId","filter","gimProps","pop","Gim","data","direction","steps","nextPosition","setOnDisplay","onDisplay","darkTheme","scrollYProgress","yRange","Math","random","animationDelay","setDelay","console","log","currentGim","prevGim","displayState","nextGim","stepsk","gimvariants","enter","displayOff","top","left","standing","transition","yoyo","Infinity","duration","display","boxShadow","bottom","currentData","getGimCurrenData","clickGim","fixGimsDataIndex","dark","gims","style","light","right","text","current","fixedIndex","length","moveSteps","moveDirection","updatedIndex"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef } from 'react'\nimport { motion, AnimatePresence, useTransform, useViewportScroll, useMotionValue } from 'framer-motion'\nimport { wrap } from 'popmotion'\nimport { theme } from './theme'\n\n\n\nconst gimsProps = [\n\t{\n\t\tid: 0, // needed to fix \" key for map, organize layer order \"\n\t\ttype: \"main\",\n\t\tleftRight: 0,\n\t\tnext: 1,\n\t\tprev: 2,\n\t\tproperties: {\n\t\t\ttitle: \"main\",\n\t\t\tsize: 100,\n\t\t\tposi: { x: 34, y: 55 },\n\t\t\tscale: 1.8,\n\t\t\tzIndex: 100,\n\t\t}\n\t},\n\t{\n\t\tid: 1,\n\t\ttype: \"next\",\n\t\tleftRight: 1,\n\t\tnext: 3,\n\t\tprev: 0,\n\t\tproperties: {\n\t\t\ttitle: \"next\",\n\t\t\tsize: 60,\n\t\t\tposi: { x: 75, y: 40 },\n\t\t\tscale: 1,\n\t\t\tzIndex: 10,\n\n\t\t}\n\t},\n\t{\n\t\tid: 2,\n\t\ttype: \"previous\",\n\t\tleftRight: -1,\n\t\tnext: 0,\n\t\tprev: 4,\n\t\tproperties: {\n\t\t\ttitle: \"previous\",\n\t\t\tsize: 80,\n\t\t\tposi: { x: 15, y: 12 },\n\t\t\tscale: 0.9,\n\t\t\tzIndex: 0,\n\t\t}\n\t},\n\t{\n\t\tid: 3,\n\t\ttype: \"onHold\",\n\t\tleftRight: 1,\n\t\tnext: 4,\n\t\tprev: 1,\n\t\tproperties: {\n\t\t\ttitle: \"...\",\n\t\t\tsize: 50,\n\t\t\tposi: { x: 60, y: 8 },\n\t\t\tscale: 0.3,\n\t\t\tzIndex: 0,\n\t\t}\n\t}\n\t,\n\t{\n\t\tid: 4,\n\t\ttype: \"hidden\",\n\t\tleftRight: -1,\n\t\tnext: 2,\n\t\tprev: 3,\n\t\tproperties: {\n\t\t\ttitle: \"hidden\",\n\t\t\tsize: 40,\n\t\t\tposi: { x: 40, y: 9 },\n\t\t\tscale: 0.1,\n\t\t\tzIndex: 0,\n\t\t}\n\t}\n]\n\nconst fromProps ={\n\tproperties: {\n\t\ttitle: \"start\",\n\t\tsize: 40,\n\t\tposi: { x: 45, y: 0 },\n\t\tscale: 0.1,\n\t\tzIndex: -10,\n\t}\n}\n\nconst getGimPropsById = (gimId: number) => {\n\treturn gimsProps.filter((gimProps) => gimProps.id == gimId).pop() || gimsProps[0];\n}\n\n\n\nexport default function Gim({ data, gimId, direction, steps, nextPosition, setOnDisplay, onDisplay, darkTheme }) {\n\n\tconst { scrollYProgress } = useViewportScroll();\n\tconst yRange = useTransform(scrollYProgress, [0, 0.9], [0, 1]);\n\n\tconst [animationDelay, setDelay] = useState(Math.random());\n\n\n\tconsole.log(\"render gim : [\" + gimId + \"] random number : \" + animationDelay);\n\n\tconst currentGim = getGimPropsById(gimId);\n\tconst prevGim = (direction < 0 && !onDisplay.displayState) ? getGimPropsById(currentGim.prev) : getGimPropsById(currentGim.next);\n\tconst nextGim = (direction < 0 && !onDisplay.displayState) ? getGimPropsById(currentGim.next) : getGimPropsById(currentGim.prev);\n\tconst stepsk = onDisplay.displayState ? steps + 1 : steps;\n\n\tconst gimvariants = {\n\t\tenter: (onDisplay: boolean, displayOff: boolean) => {\n\t\t\treturn {\n\t\t\t\ty: 0,\n\t\t\t\ttop: onDisplay ? `${currentGim.properties.posi.y}%` : ( displayOff ? `${fromProps.properties.posi.y}%` :`${prevGim.properties.posi.y}%`),\n\t\t\t\tleft: onDisplay ? `${currentGim.properties.posi.x}%` : (  displayOff ? `${fromProps.properties.posi.x}%` : `${prevGim.properties.posi.x}%`),\n\t\t\t\tscale: onDisplay ? currentGim.properties.scale : \t( displayOff ? fromProps.properties.scale: prevGim.properties.scale),\n\t\t\t\tzIndex: prevGim.properties.zIndex,\n\t\t\t};\n\n\t\t},\n\t\tstanding: (onDisplay: boolean, displayOff: boolean) => {\n\t\t\treturn {\n\t\t\t\ty: onDisplay ? 0 : [-10, 10],\n\t\t\t\ttop: onDisplay ? `${fromProps.properties.posi.y}%` : `${currentGim.properties.posi.y}%`,\n\t\t\t\tleft: onDisplay ? `${fromProps.properties.posi.x}%` :`${currentGim.properties.posi.x}%`,\n\t\t\t\tscale: onDisplay ?  fromProps.properties.scale /* 0.5*/ : currentGim.properties.scale,\n\t\t\t\tzIndex: (direction > 0 && gimId == 2) ? (onDisplay ? fromProps.properties.scale : 10) : (onDisplay ? fromProps.properties.scale : currentGim.properties.zIndex),\n\t\t\t\ttransition: {\n\t\t\t\t\ty: {\n\t\t\t\t\t\tyoyo: Infinity,\n\t\t\t\t\t\tduration: 1,\n\t\t\t\t\t\t// delay : animationDelay * 2\n\t\t\t\t\t},\n\t\t\t\t\ttype: \"spring\",\n\t\t\t\t\tduration: 1.3\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tdisplay: {\n\t\t\t// position : 'fixed',\n\t\t\tscale : currentGim.properties.scale,\n\t\t\tboxShadow: 'none',\n\t\t\ty: 0,\n\t\t\ttop: '',\n\t\t\tleft: '50%',\n\t\t\tbottom: '0%',\n\t\t\ttransition: {\n\t\t\t\ttype: \"spring\",\n\t\t\t\tduration: 0.8\n\t\t\t}\n\t\t},\n\t\t// exit: (onDisplay: number) => {\n\t\t// \treturn {\n\t\t// \t\ty: 0,\n\t\t// \t\ttop: `${nextGim.properties.posi.y}%`,\n\t\t// \t\tleft: `${nextGim.properties.posi.x}%`,\n\t\t// \t\tscale: nextGim.properties.scale,\n\t\t// \t\tzIndex: nextGim.properties.zIndex,\n\t\t// \t};\n\t\t// }\n\t}\n\n\tconst currentData = getGimCurrenData(data, gimId, steps, direction);\n\tconst clickGim = () => {\n\t\tif (gimId == 0)\n\t\tsetOnDisplay(!onDisplay.displayState, fixGimsDataIndex(data, steps + 1), 0)\n\t\telse if (!(onDisplay.displayState))\n\t\t\tnextPosition(currentGim.leftRight)\n\t\treturn false;\n\t}\n\n\treturn (\n\t\t<motion.div\n\t\t\tclassName={`absolute  flex justify-center items-center ${\"h-36\" || \"h-4\"} ${\"w-36\" || \"w-4\"} m-10 rounded-full ${darkTheme ? theme.dark.gims.style : theme.light.gims.style}`}\n\t\t\tkey={stepsk}\n\t\t\tvariants={gimvariants}\n\t\t\tinitial=\"enter\"\n\t\t\tanimate=\"standing\"\n\t\t\tcustom={onDisplay.displayState}\n\t\t\tdrag\n\t\t\tdragConstraints={{\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\tbottom: 0,\n\t\t\t}}\n\t\t\twhileHover={{\n\t\t\t\t// scale: currentGim.properties.scale * 1.2,\n\t\t\t\t// boxShadow: '0 0px 30px 2px rgb(255, 255, 255, 0.3)',\n\t\t\t\ttransition: {\n\t\t\t\t\tduration: 0.3,\n\t\t\t\t},\n\t\t\t}}\n\t\t\tonMouseDown={() => clickGim()}\n\t\t>\n\n\t\t\t<div className=\"relative flex justify-center items-center w-full h-full\" >\n\t\t\t\t{!darkTheme && <div className=\"absolute -top-1/4 -left-1/4 h-32 w-32 bg-white rounded-full\"></div>}\n\t\t\t\t{!darkTheme && <div className=\"absolute top-1/4 -right-1/4 h-16 w-16 bg-white rounded-full\"></div>}\n\t\t\t\t<h1 className={`absolute top-1/4 mt-4 ${darkTheme ? theme.dark.gims.text : theme.light.gims.text}`}>{currentData ? currentData.current : \"\"}</h1>\n\t\t\t</div>\n\t\t</motion.div>\n\t);\n}\n\n\n\n\n\n\n\nfunction fixGimsDataIndex(data, steps) {\n\tlet fixedIndex = steps < 0 ? ((data.length) + (steps % data.length)) % data.length : steps % data.length;\n\treturn (fixedIndex);\n}\n\nfunction getGimCurrenData(data, gimId, moveSteps, moveDirection) {\n\tswitch (gimId) {\n\t\tcase 0: // main gim\n\t\t\treturn {\n\t\t\t\tcurrent: data[fixGimsDataIndex(data, moveSteps + 1)],\n\t\t\t\tnext: data[fixGimsDataIndex(data, moveSteps + 2)],\n\t\t\t\tprev: data[fixGimsDataIndex(data, moveSteps)],\n\t\t\t};\n\t\tcase 1: // next gim\n\t\t\treturn {\n\t\t\t\tcurrent: data[fixGimsDataIndex(data, moveSteps + 2)],\n\t\t\t\tnext: data[fixGimsDataIndex(data, moveSteps + 3)],\n\t\t\t\tprev: data[fixGimsDataIndex(data, moveSteps + 1)],\n\t\t\t};\n\t\tcase 2: // prev gim\n\t\t\treturn {\n\t\t\t\tcurrent: data[fixGimsDataIndex(data, moveSteps)],\n\t\t\t\tnext: data[fixGimsDataIndex(data, moveSteps - 1)],\n\t\t\t\tprev: data[fixGimsDataIndex(data, moveSteps + 1)],\n\t\t\t};\n\t\tcase 3: // onHold gim\n\t\t\treturn {\n\t\t\t\tcurrent: data[fixGimsDataIndex(data, moveSteps + 3)],\n\t\t\t\tnext: data[fixGimsDataIndex(data, moveSteps + 4)],\n\t\t\t\tprev: data[fixGimsDataIndex(data, moveSteps + 2)],\n\t\t\t};\n\t\tcase 4: // hidden gim\n\t\t\tlet updatedIndex = (moveDirection < 0) ? moveSteps : moveSteps + 3;\n\t\t\treturn {\n\t\t\t\tcurrent: data[fixGimsDataIndex(data, moveSteps + 4)],\n\t\t\t\tnext: data[fixGimsDataIndex(data, moveSteps + 5)],\n\t\t\t\tprev: data[fixGimsDataIndex(data, updatedIndex)],\n\t\t\t};\n\t}\n\treturn (0);\n}\n"]},"metadata":{},"sourceType":"module"}